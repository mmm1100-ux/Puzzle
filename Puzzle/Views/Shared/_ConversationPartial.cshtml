@model List<Conversation>

@{
    int myRole = ViewData["MyRole"].ToInt();
    string myId = ViewData["MyId"].ToString();
    string myName = ViewData["MyName"].ToString();
    string myImage = ViewData["MyImage"].ToString();
    int projectId = ViewData["ProjectId"].ToInt();
    string lastId = null;
    DateTime? date = null;

    int index = 0;
    DateTime? dateTime = null;
    string userId = null;

    var data = Model.Where(x => x.IsDelete == false).ToList();

    Layout = null;
}

<link href="~/css/plyr.min.css" rel="stylesheet" />
<link href="~/css/ext-component-media-player.css" rel="stylesheet" />

<link href="~/css/conversation.css" rel="stylesheet" asp-append-version="true" />

<script src="~/js/plyr.min.js"></script>
<script src="~/js/plyr.polyfilled.min.js"></script>

<input id="myRole" type="number" value="@myRole" hidden />
<input id="myId" value="@myId" hidden />
<input id="myName" value="@myName" hidden />
<input id="projectId" type="number" value="@projectId" hidden />
<input id="conversationLastId" value="@Model.OrderByDescending(x => x.Id).Select(x => x.Id).FirstOrDefault()" hidden />
<input id="myImage" value="@myImage" hidden />

<div class="content-area-wrapper">

    <div class="user-chats">
        <div class="chats" id="chat-light-gallery">

            @foreach (var item in data)
            {
                if (data.IndexOf(item) < index)
                {
                    continue;
                }

                //index++;
                dateTime = item.CreatedAt;
                userId = item.UserId ?? item.Project.CustomerId.ToString();

                if (item.CreatedAt.Date != date)
                {
                    date = item.CreatedAt.Date;
                    lastId = null;

                    <div class="divider">
                        @if (date == DateTime.Today)
                        {
                            <div class="divider-text">امروز</div>
                        }
                        else if (date == DateTime.Today.AddDays(-1))
                        {
                            <div class="divider-text">دیروز</div>
                        }
                        else
                        {
                            <div class="divider-text">@date.Value.ToShamsi().ToShortDateString()</div>
                        }
                    </div>
                }

                @if (item.Attachment == "ChildForConversation")
                {
                    <div style="text-align: center;">
                        <label style="border-radius: 5px; color: #a1a6bb; border: 1px solid #a1a6bb; font-size: 12px; margin-top: 10px; margin-bottom: 10px;">
                            <label style="border-left: 1px solid #a1a6bb; padding: 5px 15px; margin: 0px;">@item.CreatedAt.ToString("HH:mm")</label>
                            <label style="padding: 5px 15px; margin: 0px;">@(item.Message) ایجاد شد</label>
                        </label>
                    </div>

                    index++;
                    continue;
                }

                if (item.Role.ToInt() == myRole)
                {
                    <div class="chat chat-right">
                        <div class="chat-body">
                            <div class="chat-content">

                                <div class="chat-avatar">
                                    <img src="@item.User.Image" />
                                </div>
                                <div class="msg-group">
                                    @foreach (var msg in data.Skip(index))
                                    {
                                        if (msg.UserId == userId && msg.CreatedAt.ToString("yyyyMMddHHmm") == dateTime.Value.ToString("yyyyMMddHHmm"))
                                        {
                                            index++;

                                            @if (msg.Attachment != null)
                                            {
                                                if (msg.Type == Enums.Enum.MediaType.File)
                                                {
                                                    <div id="conversation-@msg.Id">
                                                        <div class="chat-message-file" data-id="@msg.Id" data-url="@msg.Attachment" id="">
                                                            <div class="chat-message-file-icon" onclick="downloadFile(event, '@msg.Attachment')">
                                                                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-download" width="22" height="22" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                                                    <path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2" />
                                                                    <path d="M7 11l5 5l5 -5" />
                                                                    <path d="M12 4l0 12" />
                                                                </svg>

                                                                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-file" width="22" height="22" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                                                    <path d="M14 3v4a1 1 0 0 0 1 1h4" />
                                                                    <path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" />
                                                                </svg>

                                                                <span class="file-loader"></span>
                                                            </div>
                                                            <div class="chat-message-file-details">
                                                                <div>@msg.FileName</div>
                                                                <div>@((msg.FileSize.Value / 1024.0 / 1024).ToString("0.00")) Mb</div>
                                                            </div>
                                                        </div>

                                                        <div class="chat-dropdown" id="dropdown-@msg.Id">
                                                            <div onclick="ReplyMessage('@msg.Id')">پاسخ</div>
                                                            @if ((msg.CreatedAt.AddMinutes(60) > DateTime.Now) || (myRole == Enums.Enum.Role.Admin.ToInt()))
                                                            {
                                                                <div onclick="RemoveMessageMy('@msg.Id')">حذف</div>
                                                            }
                                                        </div>
                                                    </div>
                                                }
                                                else if (msg.Attachment == "ProjectReport")
                                                {
                                                    <div class="d-inline-flex" id="conversation-@msg.Id">
                                                        <div>

                                                            <p class="message-text" data-id="@msg.Id">
                                                                <span class="conversation-project-report">گزارش روزانه</span>
                                                                @Html.Raw(msg.Message)
                                                            </p>
                                                        </div>


                                                    </div>
                                                }
                                                else if (msg.Attachment.EndsWith(".ogg"))
                                                {
                                                    <div class="d-inline-flex chat-audio" data-id="@msg.Id" id="conversation-@msg.Id">


                                                        @if (msg.Parent != null)
                                                        {
                                                            <div class="reply-up-message" data-id="@msg.ConversationId" style="width: 270px;">
                                                                <div class="reply-up-message-body">
                                                                    <label>@(msg.User != null ? msg.User.Name : msg.Project.Customer.FirstName + " " + msg.Project.Customer.LastName)</label>
                                                                    <p>
                                                                        @if (msg.Parent.Attachment != null)
                                                                        {
                                                                            if (msg.Parent.Attachment.EndsWith(".ogg"))
                                                                            {
                                                                                <span>صدا</span>
                                                                            }
                                                                            else
                                                                            {
                                                                                <span>
                                                                                    تصویر
                                                                                </span>
                                                                            }
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>
                                                                                @msg.Parent.Message
                                                                            </span>
                                                                        }
                                                                    </p>
                                                                </div>

                                                            </div>
                                                        }



                                                        <audio class="audio-player" controls>
                                                            <source src="@msg.Attachment" type="audio/ogg" />
                                                        </audio>
                                                    </div>
                                                    <div class="chat-dropdown" id="dropdown-@msg.Id">
                                                        <div onclick="ReplyMessage('@msg.Id')">پاسخ</div>
                                                        @if ((msg.CreatedAt.AddMinutes(60) > DateTime.Now) || (myRole == Enums.Enum.Role.Admin.ToInt()))
                                                        {
                                                            <div onclick="RemoveMessageMy('@msg.Id')">حذف</div>
                                                        }
                                                    </div>
                                                }
                                                else
                                                {

                                                    <div>


                                                        @if (msg.Parent != null)
                                                        {
                                                            <div class="reply-up-message" data-id="@msg.ConversationId" style="width: 120px;">
                                                                <div class="reply-up-message-body">
                                                                    <label>@(msg.User != null ? msg.User.Name : msg.Project.Customer.FirstName + " " + msg.Project.Customer.LastName)</label>
                                                                    <p>
                                                                        @if (msg.Parent.Attachment != null)
                                                                        {
                                                                            if (msg.Parent.Attachment.EndsWith(".ogg"))
                                                                            {
                                                                                <span>صدا</span>
                                                                            }
                                                                            else
                                                                            {
                                                                                <span>
                                                                                    تصویر
                                                                                </span>
                                                                            }
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>
                                                                                @msg.Parent.Message
                                                                            </span>
                                                                        }
                                                                    </p>
                                                                </div>

                                                            </div>
                                                        }



                                                        <div href="@msg.Attachment.Bitmap(1920, 100)" class="chat-image chat-light-gallery-selector" id="conversation-@msg.Id">
                                                            @*<p>@(msg.Type == Enums.Enum.MediaType.Render ? "رندر" : (msg.Type == Enums.Enum.MediaType.Screen ? "اسکرین" : null))</p>*@
                                                            <img class="message-photo" data-id="@msg.Id" src="@msg.Attachment.Bitmap(480)" />
                                                        </div>

                                                    </div>
                                                    <div class="chat-dropdown" id="dropdown-@msg.Id">
                                                        <div onclick="ReplyMessage('@msg.Id')">پاسخ</div>
                                                        @if ((msg.CreatedAt.AddMinutes(60) > DateTime.Now) || (myRole == Enums.Enum.Role.Admin.ToInt()))
                                                        {
                                                            <div onclick="RemoveMessageMy('@msg.Id')">حذف</div>
                                                        }
                                                    </div>
                                                }
                                            }
                                            else
                                            {


                                                <div class="d-inline-flex" id="conversation-@msg.Id">
                                                    <div>
                                                        @if (msg.Parent != null)
                                                        {
                                                            <div class="reply-up-message" data-id="@msg.ConversationId">
                                                                <div class="reply-up-message-body">
                                                                    <label>@(msg.User != null ? msg.User.Name : msg.Project.Customer.FirstName + " " + msg.Project.Customer.LastName)</label>
                                                                    <p>
                                                                        @if (msg.Parent.Attachment != null)
                                                                        {
                                                                            if (msg.Parent.Attachment.EndsWith(".ogg"))
                                                                            {
                                                                                <span>صدا</span>
                                                                            }
                                                                            else
                                                                            {
                                                                                <span>
                                                                                    تصویر
                                                                                </span>
                                                                            }
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>
                                                                                @msg.Parent.Message
                                                                            </span>
                                                                        }
                                                                    </p>
                                                                </div>

                                                            </div>
                                                        }

                                                        <p class="message-text" data-id="@msg.Id">@msg.Message</p>
                                                    </div>


                                                </div>
                                                <div class="chat-dropdown" id="dropdown-@msg.Id">
                                                    <div onclick="ReplyMessage('@msg.Id')">پاسخ</div>

                                                    @if ((msg.CreatedAt.AddMinutes(60) > DateTime.Now) || (myRole == Enums.Enum.Role.Admin.ToInt()))
                                                    {
                                                        <div onclick="EditMessage('@msg.Id')">ویرایش</div>
                                                        <div onclick="RemoveMessageMy('@msg.Id')">حذف</div>
                                                    }
                                                </div>
                                            }
                                        }
                                        else
                                        {
                                            <span id="@dateTime.Value.ToString("yyyy-MM-dd-HH-mm")" class="chat-time">@dateTime.Value.ToString("HH:mm")</span>
                                            break;
                                        }

                                        if (index == data.Count)
                                        {
                                            <span id="@dateTime.Value.ToString("yyyy-MM-dd-HH-mm")" class="chat-time">@dateTime.Value.ToString("HH:mm")</span>
                                        }
                                    }
                                </div>
                            </div>

                        </div>
                    </div>
                }
                else
                {
                    <div class="chat chat-left">
                        <div class="chat-body">
                            <div class="chat-content">
                                <div class="chat-avatar">
                                    @if (item.User == null)
                                    {
                                        <img src="/images/avatar/05.png" />
                                    }
                                    else
                                    {
                                        <img src="@item.User.Image" />
                                    }
                                </div>

                                <div class="msg-group @(item.Role == Enums.Enum.Role.Customer ? "chat-group-customer" : "" )">
                                    @foreach (var msg in data.Skip(index))
                                    {
                                        var userOrCustomerId = msg.UserId ?? msg.Project.CustomerId.ToString();

                                        if (userOrCustomerId == userId && msg.CreatedAt.ToString("yyyyMMddHHmm") == dateTime.Value.ToString("yyyyMMddHHmm"))
                                        {
                                            string checkbox = null;

                                            if (myRole == 0)
                                            {
                                                checkbox = "<div class=\"msg-status\"><input type=\"checkbox\" class=\"accepted\" data-id=\"" + msg.Id + "\" id=\"msg-status-for-" + msg.Id + "\" /><label for=\"msg-status-for-" + msg.Id + "\"></label></div>";
                                            }

                                            index++;

                                            @if (msg.Attachment != null)
                                            {
                                                if (msg.Type == Enums.Enum.MediaType.File)
                                                {
                                                    <div id="conversation-@msg.Id">
                                                        <div class="chat-message-file" data-id="@msg.Id" data-url="@msg.Attachment">
                                                            <div class="chat-message-file-icon" onclick="downloadFile(event, '@msg.Attachment')">
                                                                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-download" width="22" height="22" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                                                    <path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2" />
                                                                    <path d="M7 11l5 5l5 -5" />
                                                                    <path d="M12 4l0 12" />
                                                                </svg>

                                                                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-file" width="22" height="22" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                                                    <path d="M14 3v4a1 1 0 0 0 1 1h4" />
                                                                    <path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" />
                                                                </svg>

                                                                <span class="file-loader"></span>
                                                            </div>
                                                            <div class="chat-message-file-details">
                                                                <div>@msg.FileName</div>
                                                                <div>@((msg.FileSize.Value / 1024.0 / 1024).ToString("0.00")) Mb</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                }
                                                else if (msg.Attachment == "ProjectReport")
                                                {
                                                    <div class="d-inline-flex" id="conversation-@msg.Id">
                                                        <div>

                                                            <p class="message-text chat-project-report" data-id="@msg.Id">
                                                                <span class="conversation-project-report">گزارش روزانه</span>
                                                                @Html.Raw(msg.Message)
                                                            </p>
                                                        </div>


                                                    </div>
                                                }
                                                else if (msg.Attachment.EndsWith(".ogg"))
                                                {
                                                    <div id="conversation-@msg.Id">
                                                        @Html.Raw(checkbox)

                                                        <div style="float: left;" class="chat-audio" data-id="@msg.Id">

                                                            @if (msg.Parent != null)
                                                            {
                                                                <div class="reply-up-message" data-id="data-idd" style="width: 270px;">
                                                                    <div class="reply-up-message-body">
                                                                        <label>@(msg.User != null ? msg.User.Name : msg.Project.Customer.FirstName + " " + msg.Project.Customer.LastName)</label>
                                                                        <p>
                                                                            @if (msg.Parent.Attachment != null)
                                                                            {
                                                                                if (msg.Parent.Attachment.EndsWith(".ogg"))
                                                                                {
                                                                                    <span>صدا</span>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span>
                                                                                        تصویر
                                                                                    </span>
                                                                                }
                                                                            }
                                                                            else
                                                                            {
                                                                                <span>
                                                                                    @msg.Parent.Message
                                                                                </span>
                                                                            }
                                                                        </p>
                                                                    </div>

                                                                </div>
                                                            }


                                                            <audio class="audio-player chat-status-@msg.Id @((msg.Accepted || myRole != 0) ? null : "not-accepted")" controls>
                                                                <source src="@msg.Attachment" type="audio/ogg" />
                                                            </audio>

                                                        </div>


                                                    </div>
                                                }
                                                else
                                                {
                                                    <div id="conversation-@msg.Id" class="@(msg.Type == Enums.Enum.MediaType.Render ? "is-render" : (msg.Type == Enums.Enum.MediaType.Screen ? "is-screen" : null))">
                                                        @Html.Raw(checkbox)


                                                        <div style="float: left;">

                                                            @if (msg.Parent != null)
                                                            {
                                                                <div class="reply-up-message" data-id="@msg.ConversationId" style="width: 120px;">
                                                                    <div class="reply-up-message-body">
                                                                        <label>@(msg.User != null ? msg.User.Name : msg.Project.Customer.FirstName + " " + msg.Project.Customer.LastName)</label>
                                                                        <p>
                                                                            @if (msg.Parent.Attachment != null)
                                                                            {
                                                                                if (msg.Parent.Attachment.EndsWith(".ogg"))
                                                                                {
                                                                                    <span>صدا</span>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span>
                                                                                        تصویر
                                                                                    </span>
                                                                                }
                                                                            }
                                                                            else
                                                                            {
                                                                                <span>
                                                                                    @msg.Parent.Message
                                                                                </span>
                                                                            }
                                                                        </p>
                                                                    </div>

                                                                </div>
                                                            }
                                                            <div href="@msg.Attachment.Bitmap(1920, 100)" class="chat-image chat-light-gallery-selector" style="display: inline-flex;">
                                                                <img data-id="@msg.Id" class="message-photo chat-status-@msg.Id @((msg.Accepted || myRole != 0) ? null : "not-accepted")" src="@msg.Attachment.Bitmap(480)" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                }
                                            }
                                            else
                                            {



                                                <div class="d-inline-flex" style="flex-direction: row-reverse;" id="conversation-@msg.Id">

                                                    @Html.Raw(checkbox)

                                                    <div style="width: 100%;">




                                                        @if (msg.Parent != null)
                                                        {
                                                            <div class="reply-up-message" data-id="@msg.ConversationId">
                                                                <div class="reply-up-message-body">
                                                                    <label>@(msg.User != null ? msg.User.Name : msg.Project.Customer.FirstName + " " + msg.Project.Customer.LastName)</label>
                                                                    <p>
                                                                        @if (msg.Parent.Attachment != null)
                                                                        {
                                                                            if (msg.Parent.Attachment.EndsWith(".ogg"))
                                                                            {
                                                                                <span>صدا</span>
                                                                            }
                                                                            else
                                                                            {
                                                                                <span>
                                                                                    تصویر
                                                                                </span>
                                                                            }
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>
                                                                                @msg.Parent.Message
                                                                            </span>
                                                                        }
                                                                    </p>
                                                                </div>

                                                            </div>
                                                        }



                                                        <p data-id="@msg.Id" class="message-text chat-status-@msg.Id @((msg.Accepted || myRole != 0) ? null : "not-accepted")">@msg.Message</p>



                                                    </div>



                                                </div>
                                            }
                                            @if (msg.Id != 0)
                                            {
                                                <div class="chat-dropdown" id="dropdown-@msg.Id">
                                                    <div onclick="ReplyMessage('@msg.Id')">پاسخ</div>
                                                    @if (myRole == Enums.Enum.Role.Admin.ToInt())
                                                    {
                                                        @if (msg.Message != null)
                                                        {
                                                            <div onclick="EditMessage('@msg.Id')">ویرایش</div>
                                                        }
                                                        <div onclick="RemoveMessageMy('@msg.Id')">حذف</div>
                                                    }
                                                </div>
                                            }

                                        }
                                        else
                                        {
                                            <span class="chat-time">@dateTime.Value.ToString("HH:mm")</span>
                                            break;
                                        }

                                        if (index == data.Count)
                                        {
                                            <span class="chat-time">@dateTime.Value.ToString("HH:mm")</span>
                                        }
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                }

                lastId = item.UserId;
            }

            <div class="end-chat"></div>
        </div>
    </div>

    <form class="chat-app-form" id="chat-app-form" action="javascript:void(0);" onsubmit="enterChat();">
        <div class="input-group-box input-group-merge ml-1 form-send-message">
            <input type="text" autocomplete="off" class="form-control-input message" id="messageInput" placeholder="پیام ..." />
        </div>
        @{
            <span id="recordButton">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-microphone" width="22" height="22" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                    <rect x="9" y="2" width="6" height="11" rx="3"></rect>
                    <path d="M5 10a7 7 0 0 0 14 0"></path>
                    <line x1="8" y1="21" x2="16" y2="21"></line>
                    <line x1="12" y1="17" x2="12" y2="21"></line>
                </svg>
            </span>
            <span id="stopButton">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-player-pause-filled" width="28" height="28" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                    <path d="M9 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z" stroke-width="0" fill="currentColor"></path>
                    <path d="M17 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z" stroke-width="0" fill="currentColor"></path>
                </svg>
            </span>
            <span id="selectPhoto" onclick="selectPhoto2()">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-photo" width="22" height="22" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                    <line x1="15" y1="8" x2="15.01" y2="8"></line>
                    <rect x="4" y="4" width="16" height="16" rx="3"></rect>
                    <path d="M4 15l4 -4a3 5 0 0 1 3 0l5 5"></path>
                    <path d="M14 14l1 -1a3 5 0 0 1 3 0l2 2"></path>
                </svg>
            </span>

            <input id="fileInput" onchange="sendFile(event)" type="file" style="visibility: hidden; display: none;" />
            <label style="margin: 0px 0px 0px 15px; line-height: 0px; cursor: pointer;" for="fileInput">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-paperclip" width="22" height="22" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                    <path d="M15 7l-6.5 6.5a1.5 1.5 0 0 0 3 3l6.5 -6.5a3 3 0 0 0 -6 -6l-6.5 6.5a4.5 4.5 0 0 0 9 9l6.5 -6.5" />
                </svg>
            </label>
        }
        <button type="button" class="btn btn-primary send send-btn" id="sendButton" onclick="enterChat();">
            <span class="d-none d-lg-block" id="send-btn-text">ارسال</span>
        </button>
    </form>

</div>

<div style="position: fixed; right: calc(50% - 640px); top: 157px; font-size: 12px;" class="accepted-btn">
    <label onclick="accepted(true)" style="padding: 10px; background: #51dde9; border-radius: 5px; color: #fff; display: block; text-align: center; cursor: pointer;">تایید</label>
    <label onclick="accepted(false)" style="padding: 10px; background: #a1a6bb; border-radius: 5px; color: #fff; display: block; text-align: center; cursor: pointer;">رد</label>
    <label onclick="RemoveMessage()" style="padding: 10px; background: none; border-radius: 5px; color: #fe5339; border: 1px solid #fe5339; display: block; text-align: center; cursor: pointer;">حذف</label>
</div>

<div class="select-all">
    <div class="select-all-message">
        <input type="checkbox" id="select-all-message" onchange="selectAllMessage()">
        <label class="check-label" for="select-all-message"></label>
        <label for="select-all-message">پیام‌ها</label>
    </div>
    <div class="select-all-screen">
        <input type="checkbox" id="select-all-screen" onchange="selectAllScreen()">
        <label class="check-label" for="select-all-screen"></label>
        <label for="select-all-screen">اسکرین‌ها</label>
    </div>
    <div class="select-all-render">
        <input type="checkbox" id="select-all-render" onchange="selectAllRender()">
        <label class="check-label" for="select-all-render"></label>
        <label for="select-all-render">رندرها</label>
    </div>
</div>


<partial name="_ImagePartial" />